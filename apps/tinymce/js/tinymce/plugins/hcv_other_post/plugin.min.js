tinymce.PluginManager.add('hcv_other_post', function(editor, url) {
    // Add a button that opens a window
    var hcv = 10;
    editor.addButton('hcv_other_post', {
        text: 'Chèn bài viết',
        icon: '',
        onclick: function() {
            // Open window
            editor.windowManager.open({
                width: 450,
                height: 220,
                resizable: true,
                id: 'hcv-other_post',
                url: url + '/index.php',
                title: 'Chèn bài viết',
                buttons: [{
					text: 'Đồng ý',
					onclick: 'submit'
				},
                {
                    text: 'Hủy',
					onclick: 'close'
				}
                ],
                
                
                onsubmit: function(e) {
                    var title = '';
                    var link = '';
					var image = '';
					var des = '';
                    
                    $("#hcv-other_post iframe").contents().find("#other-post-title").each(function(){
                        title = $(this).val();
                    });
                    
                    $("#hcv-other_post iframe").contents().find("#other-post-link").each(function(){
                        link = $(this).val();
                    });
                    
                    $("#hcv-other_post iframe").contents().find("#other-post-image").each(function(){
                        image = $(this).val();
                    });
                    
                    $("#hcv-other_post iframe").contents().find("#other-post-des").each(function(){
                        des = $(this).val();
                    });
					
					 
                    var add = '<div class="clear"></div><div class="other-post">';
                    add += '<div class="other-post-idie">Có thể bạn quan tâm : </div>';
                    add += '<div class="other-post-img fl v-col-lg-3 v-col-md-3 v-col-sm-4 v-col-xs-5 v-col-tx-6">';
                    add += '<a target="_blank" href="' + link + '"> <img title="' + title + '" src="' + image + '" alt="' + title + '"> </a></div>';
                    
                    add += '<div class="other-post-text fl v-col-lg-9 v-col-md-9 v-col-sm-8 v-col-xs-7 v-col-tx-6">';
                    //add += '<div class="other-post-text fl v-col-lg-9 v-col-md-9 v-col-sm-8 v-col-xs-7 v-col-tx-6">';
                    add += '<div class="other-post-title"><a target="_blank"  href="' + link + '">' + title + '</a></div>';
                    add += '<div class="other-post-des">' + des + '</div>';
                    add += '</div>';
                    add += '</div><div class="clear"></div>';
                      
                    editor.insertContent(add);
                }
            });
        }
    });

    // Adds a menu item to the tools menu
    editor.addMenuItem('example', {
        text: 'Example plugin',
        context: 'tools',
        onclick: function() {
            // Open window with a specific url
            editor.windowManager.open({
                title: 'TinyMCE site',
                url: 'http://www.tinymce.com',
                width: 800,
                height: 600,
                buttons: [{
                    text: 'Close',
                    onclick: 'close'
                }]
            });
        }
    });
});